{"ast":null,"code":"var _jsxFileName = \"/home/angelica/fastfloward/week1/notes/day4/Artist/src/pages/Draw/Frame.jsx\",\n    _s = $RefreshSig$();\n\nimport classnames from 'classnames';\nimport { useState } from 'react';\nimport Picture from '../../model/Picture.js';\nimport './Frame.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst constants = {\n  pixel: {\n    fill: {\n      [Picture.offPixel]: 'var(--material-grey-200)',\n      [Picture.onPixel]: 'var(--material-grey-800)'\n    }\n  },\n  icon: {\n    length: 32\n  }\n};\n\nfunction Frame(props) {\n  _s();\n\n  const [activePixel, setActivePixel] = useState(null);\n  const [brush, setBrush] = useState(null);\n  const isInteractive = props.onTogglePixel;\n  const width = props.picture.width * (props.pixel.width + props.pixel.spacing) - props.pixel.spacing;\n  const height = props.picture.height * (props.pixel.height + props.pixel.spacing) - props.pixel.spacing;\n  const pixels = [];\n\n  const onTogglePixel = index => {\n    setBrush(props.picture.pixelAt(index) === Picture.onPixel ? Picture.offPixel : Picture.onPixel);\n    props.onTogglePixel(index);\n  };\n\n  const onOverPixel = (index, isPrimaryPressed = false) => {\n    setActivePixel(index);\n\n    if (isPrimaryPressed) {\n      props.onTogglePixel(index, brush);\n    }\n  };\n\n  const onOutPixel = () => {\n    setActivePixel(null);\n  };\n\n  for (let row = 0; row < props.picture.height; row += 1) {\n    for (let column = 0; column < props.picture.width; column += 1) {\n      const index = row * props.picture.width + column;\n      const x = column * (props.pixel.width + props.pixel.spacing);\n      const y = row * (props.pixel.height + props.pixel.spacing);\n      let fill = constants.pixel.fill[props.picture.pixelAt(index)];\n      const isOn = props.picture.pixelAt(index) === Picture.onPixel;\n      pixels.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: classnames({\n          'pixel': true,\n          'is-interactive': isInteractive\n        }),\n        x: x,\n        y: y,\n        onMouseDown: () => isInteractive && onTogglePixel(index),\n        onMouseEnter: event => isInteractive && onOverPixel(index, event.buttons === 1),\n        onMouseLeave: onOutPixel,\n        children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n          x: 0,\n          y: 0,\n          width: props.pixel.width,\n          height: props.pixel.height,\n          rx: props.pixel.cornerRadius,\n          fill: fill,\n          className: isOn ? 'isOn' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), isInteractive && activePixel === index && /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: constants.icon.length,\n          height: constants.icon.length,\n          x: props.pixel.width / 2 - constants.icon.length / 2,\n          y: props.pixel.height / 2 - constants.icon.length / 2,\n          viewBox: \"0 0 24 24\",\n          fill: constants.icon.fill,\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: 0,\n            y: 0,\n            width: 24,\n            height: 24,\n            rx: 24,\n            fill: \"var(--material-grey-100)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), props.picture.pixelAt(index) === Picture.offPixel && /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\",\n            fill: \"var(--material-green-400)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this), props.picture.pixelAt(index) === Picture.onPixel && /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 13H5v-2h14v2z\",\n            fill: \"var(--material-red-400)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    className: \"frame\",\n    viewBox: `0 0 ${width} ${height}`,\n    width: width,\n    height: height,\n    children: pixels\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Frame, \"8OzteLFWYN1z/H9WWgUILVyVM0w=\");\n\n_c = Frame;\nexport default Frame;\n\nvar _c;\n\n$RefreshReg$(_c, \"Frame\");","map":{"version":3,"sources":["/home/angelica/fastfloward/week1/notes/day4/Artist/src/pages/Draw/Frame.jsx"],"names":["classnames","useState","Picture","constants","pixel","fill","offPixel","onPixel","icon","length","Frame","props","activePixel","setActivePixel","brush","setBrush","isInteractive","onTogglePixel","width","picture","spacing","height","pixels","index","pixelAt","onOverPixel","isPrimaryPressed","onOutPixel","row","column","x","y","isOn","push","event","buttons","cornerRadius"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport {useState} from 'react';\n\nimport Picture from '../../model/Picture.js';\n\nimport './Frame.css';\n\nconst constants = {\n  pixel: {\n    fill: {\n      [Picture.offPixel]: 'var(--material-grey-200)',\n      [Picture.onPixel]: 'var(--material-grey-800)'\n    }\n  },\n  icon: {\n    length: 32\n  }\n};\n\nfunction Frame(props) {\n  const [activePixel, setActivePixel] = useState(null);\n  const [brush, setBrush] = useState(null);\n  const isInteractive = props.onTogglePixel;\n  \n  const width = (\n    props.picture.width\n    * (props.pixel.width + props.pixel.spacing)\n    - props.pixel.spacing\n  );\n  const height = (\n    props.picture.height\n    * (props.pixel.height + props.pixel.spacing)\n    - props.pixel.spacing\n  );\n\n  const pixels = [];\n\n  const onTogglePixel = (index) => {\n    setBrush(\n      props.picture.pixelAt(index) === Picture.onPixel\n      ? Picture.offPixel\n      : Picture.onPixel\n    )\n    props.onTogglePixel(index);\n  }\n  const onOverPixel = (index, isPrimaryPressed = false) => {\n    setActivePixel(index);\n    if (isPrimaryPressed) {\n      props.onTogglePixel(index, brush);\n    }\n  };\n  const onOutPixel = () => {\n    setActivePixel(null);\n  };\n\n  for (let row = 0; row < props.picture.height; row += 1) {\n    for (let column = 0; column < props.picture.width; column += 1) {\n      const index = row * props.picture.width + column;\n      const x = column * (props.pixel.width + props.pixel.spacing);\n      const y = row * (props.pixel.height + props.pixel.spacing);\n      let fill = constants.pixel.fill[props.picture.pixelAt(index)];\n\n      const isOn = props.picture.pixelAt(index) === Picture.onPixel;\n\n      pixels.push(\n        <svg\n          key={index}\n          className={classnames({\n            'pixel': true,\n            'is-interactive': isInteractive\n          })}\n          x={x}\n          y={y}\n          onMouseDown={() => isInteractive && onTogglePixel(index)}\n          onMouseEnter={(event) => isInteractive && onOverPixel(index, event.buttons === 1)}\n          onMouseLeave={onOutPixel}\n        >\n          <rect\n            x={0}\n            y={0}\n            width={props.pixel.width}\n            height={props.pixel.height}\n            rx={props.pixel.cornerRadius}\n            fill={fill}\n            className={isOn ? 'isOn' : ''}\n          />\n          {isInteractive && activePixel === index &&\n            <svg\n              width={constants.icon.length}\n              height={constants.icon.length}\n              x={props.pixel.width/2 - constants.icon.length/2}\n              y={props.pixel.height/2 - constants.icon.length/2}\n              viewBox=\"0 0 24 24\"\n              fill={constants.icon.fill}\n            >\n              <rect\n                x={0}\n                y={0}\n                width={24}\n                height={24}\n                rx={24}\n                fill=\"var(--material-grey-100)\"\n              />\n              {props.picture.pixelAt(index) === Picture.offPixel &&\n                <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" fill=\"var(--material-green-400)\" />\n              }\n              {props.picture.pixelAt(index) === Picture.onPixel &&\n                <path d=\"M19 13H5v-2h14v2z\" fill=\"var(--material-red-400)\" />\n              }\n            </svg>\n          }\n        </svg>\n      );\n    }\n  }\n\n  return (\n    <svg\n      className=\"frame\"\n      viewBox={`0 0 ${width} ${height}`}\n      width={width}\n      height={height}\n    >\n      {pixels}\n    </svg>\n  );\n}\n\nexport default Frame;"]},"metadata":{},"sourceType":"module"}